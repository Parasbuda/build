"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[725],{2557:function(e,t,n){n(72791);var r=n(16587),a=n(98158),c=n(80184);t.Z=function(e){var t=e.type,n=e.className,s=e.disabled,i=e.title,o=e.loading,l=e.content,u=e.color,m=e.onClick;return(0,c.jsx)(a.Z,{content:l,children:(0,c.jsx)("button",{onClick:m,type:t,className:n,disabled:s,children:o?(0,c.jsx)(r.Z,{color:u}):i})})}},16587:function(e,t,n){n(72791);var r=n(32328),a=n(80184);t.Z=function(e){var t=e.color;return(0,a.jsx)("img",{src:r,alt:"spinner",color:t,height:"30px",className:"ml-4"})}},94924:function(e,t,n){n.d(t,{Z:function(){return a}});n(72791);var r=n(80184),a=function(e){return(0,r.jsx)("div",{className:"error",children:e.children})}},98158:function(e,t,n){n(72791);var r=n(81067),a=n(80184);t.Z=function(e){var t=e.content,n=e.children;return(0,a.jsx)(r.ZP,{content:t,children:n})}},54725:function(e,t,n){n.r(t);var r=n(18489),a=n(23430),c=n(72791),s=n(55705),i=n(56391),o=n(94924),l=n(16030),u=n(18724),m=n(2557),d=n(79271),p=n(80184);t.default=function(e){var t=e.currentPage,n=(0,d.k6)(),f=(0,l.v9)((function(e){return e.print.print})),v=(0,l.v9)((function(e){return e.print.loading})),h=(0,l.v9)((function(e){return e.print.edit})),x=(0,l.I0)(),N=(0,c.useState)(!1),_=(0,a.Z)(N,2),y=_[0],j=_[1],b={first_name:h?null===f||void 0===f?void 0:f.first_name:"",middle_name:h?null===f||void 0===f?void 0:f.middle_name:"",last_name:h?null===f||void 0===f?void 0:f.last_name:"",remarks:""},Z=i.Ry().shape({first_name:i.Z_().required("Name is required.").min(1,"Name must be at least 1 characters.").max(50,"Name must be at least 50 characters."),middle_name:i.Z_().max(50,"Name must be at least 50 characters."),last_name:i.Z_().required("Name is required.").min(1,"Name must be at least 1 characters.").max(50,"Name must be at least 50 characters."),remarks:h&&i.Z_().required("Remarks is required.").min(1,"Remarks Name must be at least 1 characters.")});return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"row  mt-2",children:(0,p.jsx)("div",{className:"col-12 ",children:(0,p.jsx)("div",{className:"registration-process ",children:(0,p.jsx)(s.J9,{enableReinitialize:!0,initialValues:b,validationSchema:Z,onSubmit:function(e){var a=e.first_name,c=e.middle_name,s=e.last_name,i=(null===a||void 0===a?void 0:a.charAt(0).toUpperCase())+(null===a||void 0===a?void 0:a.slice(1)),o=(null===c||void 0===c?void 0:c.charAt(0).toUpperCase())+(null===c||void 0===c?void 0:c.slice(1)),l=(null===s||void 0===s?void 0:s.charAt(0).toUpperCase())+(null===s||void 0===s?void 0:s.slice(1));if(j(!0),h){var m=null===f||void 0===f?void 0:f.id;x((0,u.Km)(m,n,(0,r.Z)((0,r.Z)({},e),{},{first_name:i,middle_name:o,last_name:l})))}else x((0,u.PW)((0,r.Z)((0,r.Z)({},e),{},{first_name:i,middle_name:o,last_name:l}),n,t));j(!1)},children:function(e){return(0,p.jsxs)(s.l0,{autoComplete:"off",children:[(0,p.jsx)("div",{className:"form-group row my-2 justify-content-center",children:(0,p.jsxs)("div",{className:"col-6",children:[(0,p.jsxs)("label",{htmlFor:"first_name",className:"fw-bold float-start",children:["First Name",(0,p.jsx)("strong",{className:"text-danger ",children:"*"})]}),(0,p.jsx)(s.gN,{type:"text",name:"first_name",className:"form-control ",placeholder:"First Name",autoFocus:!0}),(0,p.jsx)(s.Bc,{name:"first_name",component:o.Z})]})}),(0,p.jsx)("div",{className:"form-group row my-2 justify-content-center",children:(0,p.jsxs)("div",{className:"col-6",children:[(0,p.jsx)("label",{htmlFor:"middle_name",className:"fw-bold float-start",children:"Middle Name"}),(0,p.jsx)(s.gN,{type:"text",name:"middle_name",className:"form-control ",placeholder:"First Name"}),(0,p.jsx)(s.Bc,{name:"middle_name",component:o.Z})]})}),(0,p.jsx)("div",{className:"form-group row my-2 justify-content-center",children:(0,p.jsxs)("div",{className:"col-6",children:[(0,p.jsxs)("label",{htmlFor:"last_name",className:"fw-bold float-start",children:["Last Name",(0,p.jsx)("strong",{className:"text-danger ",children:"*"})]}),(0,p.jsx)(s.gN,{type:"text",name:"last_name",className:"form-control ",placeholder:"Last Name"}),(0,p.jsx)(s.Bc,{name:"last_name",component:o.Z})]})}),(0,p.jsx)("div",{className:"form-group row my-2 justify-content-center",children:h&&(0,p.jsxs)("div",{className:"col-3",children:[(0,p.jsxs)("label",{htmlFor:"remarks",className:"fw-bold",children:["Remarks",(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)("textarea",{type:"text",name:"remarks",onChange:function(t){e.setFieldValue("remarks",t.target.value.trim())},className:"form-control",placeholder:"Enter remarks"}),(0,p.jsx)(s.Bc,{name:"remarks",component:o.Z})]})}),(0,p.jsx)("div",{className:"form-group text-center",children:h?(0,p.jsx)(m.Z,{type:"btn",className:"btn btn-primary ",loading:v,disabled:y,title:"Update",content:"Update"}):(0,p.jsx)(m.Z,{type:"btn",className:"btn btn-primary",loading:v,disabled:y||!e.dirty,title:"Create",content:"Add"})})]})}})})})})})}},18724:function(e,t,n){n.d(t,{PW:function(){return k},hj:function(){return Z},R8:function(){return g},TI:function(){return b},j8:function(){return j},o1:function(){return F},Km:function(){return w}});var r=n(33032),a=n(84322),c=n.n(a),s=n(89731),i=function(e){return s.Z.get("api/v1/core-app/print?offset=0&limit=".concat(e,"&ordering=-id"))},o=function(e){return s.Z.get(e)},l=function(e){return s.Z.get(e)},u=function(e,t){return s.Z.get("api/v1/core-app/print?offset=".concat((e-1)*t,"&limit=").concat(t,"&ordering=-id"))},m=function(e){return s.Z.post("api/v1/core-app/print",e)},d=function(e,t){return s.Z.patch("api/v1/core-app/print/".concat(e),t)},p=function(e,t){return s.Z.get("api/v1/core-app/print?offset=0&limit=".concat(t,"&search=").concat(e))},f=n(34227),v=function(){return{type:f.F.LOADING_PRINT}},h=function(e){return{type:f.F.GET_PRINT_SUCCESS,payload:e}},x=function(e){return{type:f.F.GET_PRINT_FAIL,payload:e}},N=function(e){return{type:f.F.CREATE_PRINT_SUCCESS,payload:e}},_=function(e){return{type:f.F.PRINT_UPDATE_SUCCESS,payload:e}},y=n(29801),j=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(v()),t.next=4,i(e);case 4:r=t.sent,a=r.data,n(h(a)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n(x(t.t0)),(0,y.Mn)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(v()),t.next=4,o(e);case 4:r=t.sent,a=r.data,n(h(a)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n(x(t.t0)),(0,y.Mn)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){return function(){var t=(0,r.Z)(c().mark((function t(n){var r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(v()),t.next=4,l(e);case 4:r=t.sent,a=r.data,n(h(a)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n(x(t.t0)),(0,y.Mn)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){var t=e.number,n=e.postsPerPage;return function(){var e=(0,r.Z)(c().mark((function e(r){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(v()),e.next=4,u(t,n);case 4:a=e.sent,s=a.data,r(h(s)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r(x(e.t0)),(0,y.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},k=function(e,t){var n=e.first_name,a=e.middle_name,s=e.last_name;return function(){var e=(0,r.Z)(c().mark((function e(r){var i,o,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=JSON.stringify({first_name:n,middle_name:a,last_name:s}),r(v()),e.next=5,m(i);case 5:o=e.sent,l=o.data,r(N(l)),(0,y.My)("Record Added Successfully."),t.push("/print"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),r((c=e.t0,{type:f.F.CREATE_PRINT_FAIL,payload:c})),(0,y.Mn)("Failed to create record.");case 16:case"end":return e.stop()}var c}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},w=function(e,t,n){return function(){var a=(0,r.Z)(c().mark((function r(a){var s,i,o,l,u,m;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:f.F.LOADING_UPDATED}),s=n.first_name,i=n.middle_name,o=n.last_name,l=JSON.stringify({first_name:s,middle_name:i,last_name:o}),r.next=6,d(e,l);case 6:u=r.sent,m=u.data,a(_(m)),(0,y.My)("Record Updated Successfully "),t.push("/print"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),a((c=r.t0,{type:f.F.PRINT_UPDATE_FAIL,payload:c})),(0,y.Mn)("Failed to Update Record");case 17:case"end":return r.stop()}var c}),r,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()},F=function(e,t){return function(){var n=(0,r.Z)(c().mark((function n(r){var a,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(v()),n.next=4,p(e,t);case 4:a=n.sent,s=a.data,r(h(s)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),r(x(n.t0)),(0,y.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}},32328:function(e,t,n){e.exports=n.p+"static/media/spinner.9012f56ae4662e1be3c6.gif"}}]);
//# sourceMappingURL=725.296ebce7.chunk.js.map
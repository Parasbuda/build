"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[403],{81829:function(e,n,t){t(72791);var r=t(56355),s=t(98158),i=t(80184);n.Z=function(e){var n=e.search,t=e.onClick,a=e.addPermission;return(0,i.jsxs)("div",{className:"text-center justify-content-center no-data",children:[(0,i.jsx)("h4",{className:"fw-normal mb-3",children:"No data to Display"}),!n&&a&&(0,i.jsxs)("h6",{children:["Please"," ",(0,i.jsx)(s.Z,{content:"Add",children:(0,i.jsxs)("button",{onClick:t,className:"btn btn-primary waves-effect waves-light btn-sm mx-2 p-1 nodata-btn",children:[(0,i.jsx)(r.wEH,{className:"nodata-icon"}),"\xa0Add"]})})," ","some..."]})]})}},90883:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(72791),s=t(80184),i=function(e){var n=e.offset,t=e.limit,i=e.count;return(0,s.jsx)(r.Fragment,{children:(0,s.jsxs)("p",{children:["Showing ",n," to"," ",t>i||0===t?i:t," of ",i," entries"]})})},a=r.memo(i),c=function(e){var n=e.postsPerPage,t=e.totalPosts,r=e.paginate,i=e.handleClick,a=e.currentPage,c=e.maxPageNumberLimit,u=e.minPageNumberLimit,o=[];if(n>0)for(var l=1;l<=Math.ceil(t/n);l++)o.push(l);o.length;return u>=1&&(0,s.jsx)("button",{className:"page-link",onClick:function(){return i("previous")},children:"\u2026"}),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("ul",{className:"pagination pagination-sm justify-content-end",children:[(0,s.jsx)("li",{className:"page-item ",children:(0,s.jsx)("button",{className:"page-link",onClick:function(){return i("previous")},disabled:a===o[0],children:"\xab"})}),o.map((function(e,n){return e<c+1&&e>u?(0,s.jsx)("li",{className:"page-item",children:(0,s.jsx)("button",{onClick:function(){return r(e)},className:"page-link ".concat(n+1===a?"active":null),children:e})},e):null})),(0,s.jsx)("li",{className:"page-item",children:(0,s.jsx)("button",{className:"page-link",onClick:function(){return i("next")},disabled:a===o[o.length-1],children:"\xbb"})})]})})},u=r.memo(c),o=function(e){var n=e.currentPage,t=e.postsPerPage,r=e.count,i=e.paginate,c=e.handleClick,o=e.setCurrentPage,l=e.minPageNumberLimit,d=e.maxPageNumberLimit;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-6",children:(0,s.jsx)(a,{offset:1+(n-1)*t,limit:t*n,count:r})}),t<r&&(0,s.jsx)("div",{className:"col-6 text-right",children:(0,s.jsx)(u,{postsPerPage:t,totalPosts:r,paginate:i,handleClick:c,currentPage:n,setCurrentPage:o,minPageNumberLimit:l,maxPageNumberLimit:d})})]})})}},537:function(e,n,t){var r=t(72791),s=t(80184),i=function(e){var n=e.postsPerPage,t=e.setPostsPerPage;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("p",{className:"fw-normal p-0 m-0",children:["Show",(0,s.jsxs)("span",{className:"ml-1 mr-1",children:[" ",(0,s.jsxs)("select",{value:n,onChange:function(e){var n=Number(e.target.value);t(n)},children:[(0,s.jsx)("option",{value:"10",children:"10"}),(0,s.jsx)("option",{value:"20",children:"20"}),(0,s.jsx)("option",{value:"40",children:"40"}),(0,s.jsx)("option",{value:"99999999",children:"All"})]})]})," ","entries"]})})};n.Z=r.memo(i)},12721:function(e,n,t){t(72791);var r=t(2579),s=t(80184);n.Z=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"row ",children:[(0,s.jsx)("div",{className:"col-6 d-flex ",children:(0,s.jsx)(r.Z,{width:200,height:25})}),(0,s.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,s.jsx)(r.Z,{width:80,height:30})})]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)(r.Z,{height:40}),(0,s.jsx)(r.Z,{count:10,height:25})]}),(0,s.jsxs)("div",{className:"row d-flex mt-2",children:[(0,s.jsx)("div",{className:"col-6",children:(0,s.jsx)(r.Z,{width:220,height:20})}),(0,s.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,s.jsx)(r.Z,{width:200,height:30})})]})]})}},93969:function(e,n,t){t(72791);var r=t(56355),s=t(39126),i=t(80184);n.Z=function(e){var n=e.active;return(0,i.jsx)("div",{children:n?(0,i.jsx)(r.FJM,{style:{color:"green",fontSize:"15px"}}):(0,i.jsx)(s.HJl,{style:{color:"rgba(230, 16, 16, 0.979)",fontSize:"15px"}})})}},98158:function(e,n,t){t(72791);var r=t(81067),s=t(80184);n.Z=function(e){var n=e.content,t=e.children;return(0,s.jsx)(r.ZP,{content:n,children:t})}},7403:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(23430),s=t(72791),i=t(16030),a=t(12721),c=t(91653),u=t(56355),o=t(93969),l=t(98158),d=t(88038),m=t(90883),h=t(81829),f=t(79271),p=t(80184),v=function(e){var n=e.currentPage,t=e.postsPerPage,a=e.setCurrentPage,v=e.count,x=e.setShowModal,j=e.maxPageNumberLimit,g=e.setMaxPageNumberLimit,P=e.minPageNumberLimit,b=e.setMinPageNumberLimit,N=e.search,_=(0,f.k6)(),Z=(0,i.v9)((function(e){return e.auth.permissions})),y=(0,i.v9)((function(e){return e.auth.is_superuser})),w=(0,i.v9)((function(e){return e.user.users})),k=(0,i.v9)((function(e){return e.user.next})),S=(0,i.v9)((function(e){return e.user.previous})),C=(0,i.I0)(),A=(0,s.useState)(5),E=(0,r.Z)(A,1)[0],L=!!(null!==Z&&void 0!==Z&&Z.includes("add_user")||y);return(0,p.jsx)(p.Fragment,{children:(null===w||void 0===w?void 0:w.length)>0?(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("div",{className:"table-scrollable",children:(0,p.jsxs)("table",{className:"table table-hover table-bordered text-center",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",style:{width:"8%"},children:"S.N"}),(0,p.jsx)("th",{scope:"col",children:"User Name"}),(0,p.jsx)("th",{scope:"col",children:"Email"}),(0,p.jsx)("th",{scope:"col",children:"Branch"}),(0,p.jsx)("th",{scope:"col",children:"Employee ID"}),(0,p.jsx)("th",{scope:"col",children:"Status"}),(y||(null===Z||void 0===Z?void 0:Z.includes("update_user")))&&(0,p.jsx)("th",{scope:"col",children:"Action"})]})}),(0,p.jsx)("tbody",{children:(null===w||void 0===w?void 0:w.length)>0&&w.map((function(e,r){var s=e.id,i=e.username,a=e.email,c=e.user_branch,m=e.employee_id,h=e.is_active;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"row",style:{width:"8%"},children:t*(n-1)+(r+1)}),(0,p.jsx)("td",{children:i}),(0,p.jsx)("td",{children:a}),(0,p.jsx)("td",{children:null===c||void 0===c?void 0:c.name}),(0,p.jsx)("td",{children:m}),(0,p.jsx)("td",{children:(0,p.jsx)(o.Z,{active:h})}),(y||(null===Z||void 0===Z?void 0:Z.includes("delete_user"))||(null===Z||void 0===Z?void 0:Z.includes("update_user")))&&(0,p.jsx)("td",{children:(y||(null===Z||void 0===Z?void 0:Z.includes("update_user")))&&(0,p.jsx)(l.Z,{content:"Edit",children:(0,p.jsx)("button",{className:"btn btn-sm btn-edit btn-primary mx-1",onClick:function(){return function(e,n){C({type:d.A.USER_EDIT_SUCCESS,payload:e,postsPerPage:n}),_.push("/edit-user")}(s)},children:(0,p.jsx)(u.fmQ,{})})})})]},s)}))})]})}),v>0&&(0,p.jsx)(m.Z,{currentPage:n,postsPerPage:t,count:v,paginate:function(e){C((0,c.Rv)({number:e,postsPerPage:t})),a(e)},handleClick:function(e){"previous"===e?(C((0,c.TI)(S)),a((function(e){return e-1})),(n-1)%E===0&&(g(j-E),b(P-E))):"next"===e&&(C((0,c.hj)(k)),a((function(e){return e+1})),n+1>j&&(g(j+E),b(P+E)))},setCurrentPage:a,minPageNumberLimit:P,maxPageNumberLimit:j})]}):(0,p.jsx)(h.Z,{search:N,onClick:function(){return x(!0)},addPermission:L})})},x=s.memo(v),j=t(50645),g=t(537),P=t(2579),b=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)(P.Z,{height:40}),(0,p.jsx)(P.Z,{count:10,height:25})]}),(0,p.jsxs)("div",{className:"row d-flex mt-2",children:[(0,p.jsx)("div",{className:"col-6",children:(0,p.jsx)(P.Z,{width:220,height:20})}),(0,p.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,p.jsx)(P.Z,{width:200,height:30})})]})]})},N=function(){var e=(0,f.k6)(),n=(0,i.v9)((function(e){return e.auth.permissions})),t=(0,i.v9)((function(e){return e.auth.is_superuser})),o=(0,i.v9)((function(e){return e.user.users})),d=(0,i.v9)((function(e){return e.user.loading})),m=(0,i.v9)((function(e){return e.user.loading_updated})),h=(0,i.v9)((function(e){return e.user.count})),v=((0,i.v9)((function(e){return e.user.edit})),(0,i.v9)((function(e){return e.search.search}))),P=(0,i.I0)(),N=(0,s.useState)(1),_=(0,r.Z)(N,2),Z=_[0],y=_[1],w=(0,s.useState)(5),k=(0,r.Z)(w,2),S=k[0],C=k[1],A=(0,s.useState)(0),E=(0,r.Z)(A,2),L=E[0],U=E[1],M=(0,s.useState)(10),R=(0,r.Z)(M,2),F=R[0],I=R[1];return(0,s.useEffect)((function(){0===F?P(""===v?(0,c.PR)(h):(0,c.o1)(v,h)):""===v?(F===j.P||y(1),P((0,c.PR)(F))):(y(1),C(5),U(0),P((0,c.o1)(v,F)))}),[P,F,v]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"card",children:[(0,p.jsx)("div",{className:"header-content",children:(0,p.jsx)("h4",{className:"mb-sm-0 fw-normal",children:"User"})}),(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsx)("div",{className:"row m-0 p-0",children:(null===o||void 0===o?void 0:o.length)>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"col-6",children:(0,p.jsx)(g.Z,{postsPerPage:F,setPostsPerPage:I})}),(0,p.jsx)("div",{className:"col-6 text-right",children:(t||(null===n||void 0===n?void 0:n.includes("add_user")))&&(0,p.jsx)(l.Z,{content:"Add",children:(0,p.jsxs)("button",{type:"button",className:"btn btn-primary waves-effect waves-light btn-sm float-end",onClick:function(){return e.push("/create-user")},children:[(0,p.jsx)(u.wEH,{className:"mb-1"}),"\xa0Add"]})})})]})}),d&&(0,p.jsx)(a.Z,{}),m&&(0,p.jsx)(b,{}),!d&&!m&&(0,p.jsx)(x,{currentPage:Z,setCurrentPage:y,postsPerPage:F,setPostsPerPage:I,count:h,maxPageNumberLimit:S,setMaxPageNumberLimit:C,minPageNumberLimit:L,setMinPageNumberLimit:U,search:v})]})]})})}},79814:function(e,n,t){t.d(n,{Nq:function(){return o},PR:function(){return s},Rv:function(){return c},TI:function(){return i},hj:function(){return a},o1:function(){return l},pX:function(){return d},r4:function(){return u}});var r=t(89731),s=function(e){return r.Z.get("api/v1/user-app/user?offset=0&limit=".concat(e,"&ordering=-id"))},i=function(e){return r.Z.get(e)},a=function(e){return r.Z.get(e)},c=function(e,n){return r.Z.get("api/v1/user-app/user?offset=".concat((e-1)*n,"&limit=").concat(n,"&ordering=-id"))},u=function(e){return r.Z.post("api/v1/user-app/user",e)},o=function(e,n){return r.Z.patch("api/v1/user-app/update-user/".concat(e),n)},l=function(e,n){return r.Z.get("api/v1/user-app/user?offset=0&limit=".concat(n,"&search=").concat(e))},d=function(e,n){return r.Z.get("api/v1/user-app/user?username=".concat(e.target.value.trim()),{cancelToken:n.token})}},91653:function(e,n,t){t.d(n,{r4:function(){return g},hj:function(){return x},Rv:function(){return j},TI:function(){return v},PR:function(){return p},o1:function(){return b},Nq:function(){return P}});var r=t(18489),s=t(33032),i=t(84322),a=t.n(i),c=t(79814),u=t(88038),o=function(){return{type:u.A.LOADING_USER}},l=function(){return{type:u.A.LOADING_UPDATED}},d=function(e){return{type:u.A.GET_USER_SUCCESS,payload:e}},m=function(e){return{type:u.A.GET_USER_FAIL,payload:e}},h=function(e){return{type:u.A.UPDATE_USER_FAIL,payload:e}},f=t(29801),p=(t(30456),function(e){return function(){var n=(0,s.Z)(a().mark((function n(t){var s,i,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(o()),n.next=4,c.PR(e);case 4:s=n.sent,i=s.data,u=i.results.filter((function(e){return!1===e.is_superuser})),t(d((0,r.Z)((0,r.Z)({},i),{},{results:u}))),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),t(m(n.t0)),(0,f.Mn)(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}),v=function(e){return function(){var n=(0,s.Z)(a().mark((function n(t){var s,i,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(o()),n.next=4,c.TI(e);case 4:s=n.sent,i=s.data,u=i.results.filter((function(e){return!1===e.is_superuser})),t(d((0,r.Z)((0,r.Z)({},i),{},{results:u}))),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),t(m(n.t0)),(0,f.Mn)(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var n=(0,s.Z)(a().mark((function n(t){var s,i,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(o()),n.next=4,c.hj(e);case 4:s=n.sent,i=s.data,u=i.results.filter((function(e){return!1===e.is_superuser})),t(d((0,r.Z)((0,r.Z)({},i),{},{results:u}))),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),t(m(n.t0)),(0,f.Mn)(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e){var n=e.number,t=e.postsPerPage;return function(){var e=(0,s.Z)(a().mark((function e(r){var s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(o()),e.next=4,c.Rv(n,t);case 4:s=e.sent,i=s.data,r(d(i)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r(m(e.t0)),(0,f.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},g=function(e,n){var t=e.first_name,r=e.middle_name,i=e.last_name,l=e.email,d=e.username,m=e.employee_id,h=e.is_active,p=e.user_branch,v=e.group,x=e.gender,g=e.password,P=e.confirm_password,b=e.history;return function(){var e=(0,s.Z)(a().mark((function e(s){var N;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N=JSON.stringify({first_name:t,middle_name:r,last_name:i,email:l,username:d,employee_id:m,group:v,is_active:h,user_branch:p,gender:x,password:g,confirm_password:P}),s(o()),e.next=5,c.r4(N);case 5:(0,f.My)("User created successfully "),s(j({number:n,postsPerPage:10})),b.push("/user"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s((a=e.t0,{type:u.A.CREATE_USER_FAIL,payload:a})),(0,f.Mn)("Failed to create user.");case 14:case"end":return e.stop()}var a}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}()},P=function(e,n,t){return function(){var r=(0,s.Z)(a().mark((function r(s){var i,u,o,d,m,p,v,x,g,P,b,N,_;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=n.first_name,u=n.middle_name,o=n.last_name,d=n.email,m=n.username,p=n.employee_id,v=n.user_branch,x=n.group,g=n.gender,P=n.is_active,b=n.remarks,r.prev=1,s(l()),N=JSON.stringify({first_name:i,middle_name:u,last_name:o,email:d,username:m,employee_id:p,user_branch:v,group:x,gender:g,is_active:P,remarks:b}),r.next=6,c.Nq(e,N);case 6:_=r.sent,_.data,s(j({number:1,postsPerPage:10})),(0,f.My)("User Updated Successfully "),t.push("/user"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(1),s(h(r.t0)),(0,f.Mn)("Failed to Update User");case 17:case"end":return r.stop()}}),r,null,[[1,13]])})));return function(e){return r.apply(this,arguments)}}()},b=function(e,n){return function(){var t=(0,s.Z)(a().mark((function t(r){var s,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(o()),t.next=4,c.o1(e,n);case 4:s=t.sent,i=s.data,r(d(i)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r(m(t.t0)),(0,f.Mn)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},50645:function(e,n,t){t.d(n,{P:function(){return r}});var r=10}}]);
//# sourceMappingURL=403.a13af456.chunk.js.map
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[187],{81829:function(e,n,t){t(72791);var r=t(56355),a=t(98158),s=t(80184);n.Z=function(e){var n=e.search,t=e.onClick,i=e.addPermission;return(0,s.jsxs)("div",{className:"text-center justify-content-center no-data",children:[(0,s.jsx)("h4",{className:"fw-normal mb-3",children:"No data to Display"}),!n&&i&&(0,s.jsxs)("h6",{children:["Please"," ",(0,s.jsx)(a.Z,{content:"Add",children:(0,s.jsxs)("button",{onClick:t,className:"btn btn-primary waves-effect waves-light btn-sm mx-2 p-1 nodata-btn",children:[(0,s.jsx)(r.wEH,{className:"nodata-icon"}),"\xa0Add"]})})," ","some..."]})]})}},90883:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(72791),a=t(80184),s=function(e){var n=e.offset,t=e.limit,s=e.count;return(0,a.jsx)(r.Fragment,{children:(0,a.jsxs)("p",{children:["Showing ",n," to"," ",t>s||0===t?s:t," of ",s," entries"]})})},i=r.memo(s),c=function(e){var n=e.postsPerPage,t=e.totalPosts,r=e.paginate,s=e.handleClick,i=e.currentPage,c=e.maxPageNumberLimit,o=e.minPageNumberLimit,u=[];if(n>0)for(var l=1;l<=Math.ceil(t/n);l++)u.push(l);u.length;return o>=1&&(0,a.jsx)("button",{className:"page-link",onClick:function(){return s("previous")},children:"\u2026"}),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("ul",{className:"pagination pagination-sm justify-content-end",children:[(0,a.jsx)("li",{className:"page-item ",children:(0,a.jsx)("button",{className:"page-link",onClick:function(){return s("previous")},disabled:i===u[0],children:"\xab"})}),u.map((function(e,n){return e<c+1&&e>o?(0,a.jsx)("li",{className:"page-item",children:(0,a.jsx)("button",{onClick:function(){return r(e)},className:"page-link ".concat(n+1===i?"active":null),children:e})},e):null})),(0,a.jsx)("li",{className:"page-item",children:(0,a.jsx)("button",{className:"page-link",onClick:function(){return s("next")},disabled:i===u[u.length-1],children:"\xbb"})})]})})},o=r.memo(c),u=function(e){var n=e.currentPage,t=e.postsPerPage,r=e.count,s=e.paginate,c=e.handleClick,u=e.setCurrentPage,l=e.minPageNumberLimit,d=e.maxPageNumberLimit;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-6",children:(0,a.jsx)(i,{offset:1+(n-1)*t,limit:t*n,count:r})}),t<r&&(0,a.jsx)("div",{className:"col-6 text-right",children:(0,a.jsx)(o,{postsPerPage:t,totalPosts:r,paginate:s,handleClick:c,currentPage:n,setCurrentPage:u,minPageNumberLimit:l,maxPageNumberLimit:d})})]})})}},537:function(e,n,t){var r=t(72791),a=t(80184),s=function(e){var n=e.postsPerPage,t=e.setPostsPerPage;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{className:"fw-normal p-0 m-0",children:["Show",(0,a.jsxs)("span",{className:"ml-1 mr-1",children:[" ",(0,a.jsxs)("select",{value:n,onChange:function(e){var n=Number(e.target.value);t(n)},children:[(0,a.jsx)("option",{value:"10",children:"10"}),(0,a.jsx)("option",{value:"20",children:"20"}),(0,a.jsx)("option",{value:"40",children:"40"}),(0,a.jsx)("option",{value:"99999999",children:"All"})]})]})," ","entries"]})})};n.Z=r.memo(s)},12721:function(e,n,t){t(72791);var r=t(2579),a=t(80184);n.Z=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"row ",children:[(0,a.jsx)("div",{className:"col-6 d-flex ",children:(0,a.jsx)(r.Z,{width:200,height:25})}),(0,a.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,a.jsx)(r.Z,{width:80,height:30})})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)(r.Z,{height:40}),(0,a.jsx)(r.Z,{count:10,height:25})]}),(0,a.jsxs)("div",{className:"row d-flex mt-2",children:[(0,a.jsx)("div",{className:"col-6",children:(0,a.jsx)(r.Z,{width:220,height:20})}),(0,a.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,a.jsx)(r.Z,{width:200,height:30})})]})]})}},98158:function(e,n,t){t(72791);var r=t(81067),a=t(80184);n.Z=function(e){var n=e.content,t=e.children;return(0,a.jsx)(r.ZP,{content:n,children:t})}},46187:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(23430),a=t(72791),s=t(50645),i=t(18724),c=t(56355),o=t(16030),u=t(34227),l=t(90883),d=t(81829),m=t(98158),p=t(79271),h=t(35125),f=(t(23393),t(80184)),x=function(e){var n,t=e.show,r=e.setShow,a=e.name,s=e.setName,i=new h.ZP({orientation:"landscape",unit:"mm",format:[430,270]});i.setFont("Helvetica","bold"),i.setTextColor(0,0,0),i.setFontSize(53),i.text(a.substring(0,26).toUpperCase(),30,250),n=i.output("datauristring");var c=t?"modal display-block":"modal display-none";return(0,f.jsxs)("div",{className:c,tabIndex:"-1",children:[(0,f.jsx)("div",{className:"modal-dialog modal-md",children:(0,f.jsxs)("div",{className:"modal-content content",children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Print Preview"}),(0,f.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close",onClick:function(){r(!1),s("")},children:"\xd7"})]}),(0,f.jsx)("div",{className:"modal-body text-center",children:(0,f.jsx)("iframe",{title:"print",type:"application/pdf",frameBorder:"0",width:"405px",src:n,height:"305px"})})]})})," "]})},v=function(e){var n=e.currentPage,t=e.postsPerPage,s=e.setCurrentPage,h=e.count,v=e.maxPageNumberLimit,j=e.setMaxPageNumberLimit,g=e.minPageNumberLimit,N=e.setMinPageNumberLimit,P=e.search,b=(0,a.useState)(!1),y=(0,r.Z)(b,2),w=y[0],Z=y[1],k=(0,a.useState)(""),C=(0,r.Z)(k,2),_=C[0],S=C[1],F=(0,p.k6)(),L=(0,o.v9)((function(e){return e.auth.permissions})),I=(0,o.v9)((function(e){return e.auth.is_superuser})),T=(0,o.v9)((function(e){return e.print.prints})),E=(0,o.v9)((function(e){return e.print.next})),A=(0,o.v9)((function(e){return e.print.previous})),M=(0,o.I0)(),R=(0,a.useState)(5),U=(0,r.Z)(R,1)[0],D=!!(null!==L&&void 0!==L&&L.includes("add_print")||I);return(0,f.jsxs)(f.Fragment,{children:[(null===T||void 0===T?void 0:T.length)>0?(0,f.jsxs)("div",{className:"mt-2",children:[(0,f.jsx)("div",{className:"table-scrollable",children:(0,f.jsxs)("table",{className:"table table-hover table-bordered text-center",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{scope:"col",style:{width:"8%"},children:"S.N"}),(0,f.jsx)("th",{scope:"col",children:"Print Number"}),(0,f.jsx)("th",{scope:"col",children:"First Name"}),(0,f.jsx)("th",{scope:"col",children:"Last Name"}),(0,f.jsx)("th",{scope:"col",children:"Action"})]})}),(0,f.jsx)("tbody",{children:(null===T||void 0===T?void 0:T.length)>0&&T.map((function(e,r){var a=e.id,s=e.print_no,i=e.first_name,o=e.last_name,l=e.name;return(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:"fw-bold",style:{width:"8%"},children:[t*(n-1)+(r+1)," "]}),(0,f.jsx)("td",{children:s}),(0,f.jsx)("td",{children:""===i?"-":i}),(0,f.jsx)("td",{children:""===o?"-":o}),(0,f.jsxs)("td",{children:[(0,f.jsx)(m.Z,{content:"Edit",children:(0,f.jsx)("button",{onClick:function(){return function(e){M({type:u.F.PRINT_EDIT_SUCCESS,payload:e}),F.push("/create-print")}(a)},className:"btn btn-sm btn-edit btn-primary mx-2",children:(0,f.jsx)(c.fmQ,{})})}),(0,f.jsx)(m.Z,{content:"Print",children:(0,f.jsx)("button",{onClick:function(){return function(e){S(e),Z(!0)}(l)},className:"btn btn-sm  btn-success mx-2",children:(0,f.jsx)(c.rcQ,{})})})]})]},a)}))})]})}),h>0&&(0,f.jsx)(l.Z,{currentPage:n,postsPerPage:t,count:h,paginate:function(e){M((0,i.R8)({number:e,postsPerPage:t})),s(e)},handleClick:function(e){"previous"===e?(M((0,i.TI)(A)),s((function(e){return e-1})),(n-1)%U===0&&(j(v-U),N(g-U))):"next"===e&&(M((0,i.hj)(E)),s((function(e){return e+1})),n+1>v&&(j(v+U),N(g+U)))},setCurrentPage:s,minPageNumberLimit:g,maxPageNumberLimit:v})]}):(0,f.jsx)(d.Z,{search:P,onClick:function(){return F.push("/create-print")},addPermission:D}),w&&(0,f.jsx)(x,{show:w,setShow:Z,name:_,setName:S})]})},j=t(12721),g=t(537),N=function(){var e=(0,p.k6)(),n=((0,o.v9)((function(e){return e.auth.permissions})),(0,o.v9)((function(e){return e.auth.is_superuser})),(0,o.v9)((function(e){return e.print.prints}))),t=(0,o.v9)((function(e){return e.print.loading})),u=(0,o.v9)((function(e){return e.print.loading_updated})),l=(0,o.v9)((function(e){return e.print.count})),d=(0,o.v9)((function(e){return e.search.search})),h=(0,o.I0)(),x=(0,a.useState)(1),N=(0,r.Z)(x,2),P=N[0],b=N[1],y=(0,a.useState)(5),w=(0,r.Z)(y,2),Z=w[0],k=w[1],C=(0,a.useState)(0),_=(0,r.Z)(C,2),S=_[0],F=_[1],L=(0,a.useState)(10),I=(0,r.Z)(L,2),T=I[0],E=I[1];return(0,a.useEffect)((function(){0===T?h(""===d?(0,i.j8)(l):(0,i.o1)(d,l)):""===d?(T===s.P||b(1),h((0,i.j8)(T))):(b(1),k(5),F(0),h((0,i.o1)(d,T)))}),[h,T,d]),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"card",children:[(0,f.jsx)("div",{className:"header-content",children:(0,f.jsx)("h4",{className:"mb-sm-0 fw-normal",children:"Print"})}),(0,f.jsxs)("div",{className:"card-body",children:[(0,f.jsx)("div",{className:"row m-0 p-0",children:(null===n||void 0===n?void 0:n.length)>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)(g.Z,{postsPerPage:T,setPostsPerPage:E})}),(0,f.jsx)("div",{className:"col-6 text-right",children:(0,f.jsx)(m.Z,{content:"Add",children:(0,f.jsxs)("button",{className:"btn btn-primary waves-effect waves-light btn-sm float-end",onClick:function(){return e.push("/create-print")},children:[(0,f.jsx)(c.wEH,{className:"mb-1"}),"\xa0Add"]})})})]})}),t&&(0,f.jsx)(j.Z,{}),u&&(0,f.jsx)(j.Z,{}),!t&&!u&&(0,f.jsx)(v,{currentPage:P,setCurrentPage:b,postsPerPage:T,setPostsPerPage:E,count:l,maxPageNumberLimit:Z,setMaxPageNumberLimit:k,minPageNumberLimit:S,setMinPageNumberLimit:F,search:d})]})]})})}},18724:function(e,n,t){t.d(n,{PW:function(){return Z},hj:function(){return y},R8:function(){return w},TI:function(){return b},j8:function(){return P},o1:function(){return C},Km:function(){return k}});var r=t(33032),a=t(84322),s=t.n(a),i=t(89731),c=function(e){return i.Z.get("api/v1/core-app/print?offset=0&limit=".concat(e,"&ordering=-id"))},o=function(e){return i.Z.get(e)},u=function(e){return i.Z.get(e)},l=function(e,n){return i.Z.get("api/v1/core-app/print?offset=".concat((e-1)*n,"&limit=").concat(n,"&ordering=-id"))},d=function(e){return i.Z.post("api/v1/core-app/print",e)},m=function(e,n){return i.Z.patch("api/v1/core-app/print/".concat(e),n)},p=function(e,n){return i.Z.get("api/v1/core-app/print?offset=0&limit=".concat(n,"&search=").concat(e))},h=t(34227),f=function(){return{type:h.F.LOADING_PRINT}},x=function(e){return{type:h.F.GET_PRINT_SUCCESS,payload:e}},v=function(e){return{type:h.F.GET_PRINT_FAIL,payload:e}},j=function(e){return{type:h.F.CREATE_PRINT_SUCCESS,payload:e}},g=function(e){return{type:h.F.PRINT_UPDATE_SUCCESS,payload:e}},N=t(29801),P=function(e){return function(){var n=(0,r.Z)(s().mark((function n(t){var r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(f()),n.next=4,c(e);case 4:r=n.sent,a=r.data,t(x(a)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),t(v(n.t0)),(0,N.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},b=function(e){return function(){var n=(0,r.Z)(s().mark((function n(t){var r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(f()),n.next=4,o(e);case 4:r=n.sent,a=r.data,t(x(a)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),t(v(n.t0)),(0,N.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var n=(0,r.Z)(s().mark((function n(t){var r,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(f()),n.next=4,u(e);case 4:r=n.sent,a=r.data,t(x(a)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),t(v(n.t0)),(0,N.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},w=function(e){var n=e.number,t=e.postsPerPage;return function(){var e=(0,r.Z)(s().mark((function e(r){var a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(f()),e.next=4,l(n,t);case 4:a=e.sent,i=a.data,r(x(i)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r(v(e.t0)),(0,N.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},Z=function(e,n){var t=e.first_name,a=e.middle_name,i=e.last_name;return function(){var e=(0,r.Z)(s().mark((function e(r){var c,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=JSON.stringify({first_name:t,middle_name:a,last_name:i}),r(f()),e.next=5,d(c);case 5:o=e.sent,u=o.data,r(j(u)),(0,N.My)("Record Added Successfully."),n.push("/print"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),r((s=e.t0,{type:h.F.CREATE_PRINT_FAIL,payload:s})),(0,N.Mn)("Failed to create record.");case 16:case"end":return e.stop()}var s}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()},k=function(e,n,t){return function(){var a=(0,r.Z)(s().mark((function r(a){var i,c,o,u,l,d;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:h.F.LOADING_UPDATED}),i=t.first_name,c=t.middle_name,o=t.last_name,u=JSON.stringify({first_name:i,middle_name:c,last_name:o}),r.next=6,m(e,u);case 6:l=r.sent,d=l.data,a(g(d)),(0,N.My)("Record Updated Successfully "),n.push("/print"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),a((s=r.t0,{type:h.F.PRINT_UPDATE_FAIL,payload:s})),(0,N.Mn)("Failed to Update Record");case 17:case"end":return r.stop()}var s}),r,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()},C=function(e,n){return function(){var t=(0,r.Z)(s().mark((function t(r){var a,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(f()),t.next=4,p(e,n);case 4:a=t.sent,i=a.data,r(x(i)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r(v(t.t0)),(0,N.Mn)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},50645:function(e,n,t){t.d(n,{P:function(){return r}});var r=10},23393:function(e,n,t){e.exports=t.p+"static/media/card.53d18990f6dddfd319e0.png"}}]);
//# sourceMappingURL=187.1ab5deab.chunk.js.map